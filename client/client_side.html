<head>
  <title>Cat in the Map</title>
	<script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAzevId2bOUHbxS-h42OGrQyfWyB96_1yM">
	</script>
  <script src="lib/oms.min.js"></script>
</head>

<body>
  {{#if dataReady}}
    {{> map}}
  {{/if}}
	<div class="message-box">
    {{#if messagesReady }} <!-- check if messages have been loaded before rendering carousel -->
		  {{> carousel}}
    {{/if}}
    <div id="message-buttons">
      <div class="button-sms"></div>
    </div>
	</div>
</body>

<template name="map">
	<div id="map-canvas"></div>
    {{#each data}}
      {{addMapMarker}}
    {{/each}}
</template>

<template name="carousel">
	<div id="message-area">
	 	  {{#each messages}}
        {{updateCarousel}}
        {{startCarousel}}
	 	  {{/each}}
	</div>
</template>
